---
title: "TSA Competition"
output: pdf_document
date: "2024-03-27"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Loading packages

```{r}

library(lubridate)
library(ggplot2)
library(forecast)
library(Kendall)
library(tseries)
library(outliers)
library(tidyverse)
library(cowplot)
library(sarima)
library(readxl)


```

```{r}
#Importing data and wrangling

#Importing data
data <- read_excel("./Data/load.xlsx")

df_load_data<-data[,3:26]
df_load_processed<-df_load_data %>%
  mutate(daily_mean=rowMeans(df_load_data, na.rm = TRUE))

data_final <- cbind(data[,2],df_load_processed[,25])


```

```{r}

#Showing initial plot
ggplot(data_final,aes(x = date, y = daily_mean)) + 
  geom_line()

```
```{r}
#creating a training set
df_filtered <- df %>% 
  filter(!(format(date, "%Y-%m") == "2011-06"))
```



```{r}
#Converting to time series
mts_data <- msts(data_final, seasonal.periods = c(7, 365.25), start = c(2005, 1, 1))
ACFplot <- acf(mts_data[,2])
PACFplot <- pacf(mts_data[,2])
```
```{r}
#Fitting a Sarima
SARIMA_autofit <- auto.arima(mts_data)
#checkresiduals(SARIMA_autofit)
```

